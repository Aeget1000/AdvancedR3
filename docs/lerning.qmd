---
title: "learning.qmd"
author: "Christian A. Andersen"
format: html
editor: visual
---

## Inital setup

```{r setup}
library(tidyverse)
library(targets)

source(here::here("R/functions.R")) # soruce to the function file, where all of our favorite fun's live

tar_config_set(store = here::here("_targets")) # tell R to look in the <_targets>folder

lipidomics <- tar_read(lipidomics)
```

## results; basic stats table

```{r}
tar_read(table_descriptive_stats) |>
  knitr::kable(caption = " Title:The mean and SD of metablolites in the lipidomic dataset", )
```

## The Plot of distributions that no one saw coming

```{r}
tar_read(plot_distributions)
```

## Runing mutliple models

```{r}



```

```{r}

lipidomics |>
  filter(metabolite == "Cholesterol") |>
  preprocess() |> 
  fit_all_models()

```

```{r}
lipidomics |>
  dplyr::group_split(metabolite) |> # first split the complete dataset into new tibbles base on the metabolites
  purrr::map(preprocess ) |>
  purrr::map(fit_all_models) |> 
  purrr::list_rbind()
```
